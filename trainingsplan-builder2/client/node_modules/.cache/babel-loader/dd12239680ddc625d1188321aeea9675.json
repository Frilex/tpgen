{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Documents\\\\tpgen\\\\trainingsplan-builder2\\\\client\\\\src\\\\components\\\\blocks\\\\Mainbar.jsx\";\nimport React from 'react';\nimport DropArea from './DropArea';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mainbar = ({\n  sumText,\n  unitName,\n  setUnitName,\n  unitKuerzel,\n  setUnitKuerzel,\n  droppedBlocks,\n  setDroppedBlocks,\n  instanceCounter,\n  setInstanceCounter,\n  setSavedUnits\n}) => {\n  const handleKuerzelChange = e => {\n    setUnitKuerzel(e.target.value.replace(/\\s/g, ''));\n  };\n  const handleSave = async () => {\n    const trainingUnit = {\n      name: unitName,\n      kuerzel: unitKuerzel,\n      blocks: droppedBlocks\n    };\n    try {\n      let res = await fetch('http://localhost:3001/trainingUnits', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(trainingUnit)\n      });\n      if (res.status === 409) {\n        const data = await res.json();\n        if (window.confirm('Eine Einheit mit diesem Kürzel existiert bereits. Überschreiben?')) {\n          res = await fetch(`http://localhost:3001/trainingUnits/${data.id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(trainingUnit)\n          });\n          if (!res.ok) {\n            alert('Fehler beim Überschreiben.');\n            return;\n          }\n          alert('Trainingseinheit überschrieben!');\n        } else {\n          return;\n        }\n      } else if (!res.ok) {\n        alert('Fehler beim Speichern.');\n        return;\n      } else {\n        alert('Trainingseinheit gespeichert!');\n      }\n      const updated = await fetch('http://localhost:3001/trainingUnits');\n      const data = await updated.json();\n      setSavedUnits(data);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleDelete = instanceId => {\n    setDroppedBlocks(prev => deleteBlockFromTree(prev, instanceId));\n  };\n  const handleMove = (instanceId, direction) => {\n    setDroppedBlocks(prev => moveBlockInTree(prev, instanceId, direction));\n  };\n  const handleUpdateOptions = (instanceId, newOptions) => {\n    setDroppedBlocks(prev => updateBlockOptionsInTree(prev, instanceId, newOptions));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"middle-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"main-title\",\n      children: [\"Trainingseinheit \", sumText]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"unit-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: unitName,\n          onChange: e => setUnitName(e.target.value),\n          className: \"info-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"K\\xFCrzel:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: unitKuerzel,\n          onChange: handleKuerzelChange,\n          className: \"info-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        className: \"save-button\",\n        children: \"Speichern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DropArea, {\n      blocks: droppedBlocks,\n      parentId: null,\n      onDelete: handleDelete,\n      onMove: handleMove,\n      onUpdateOptions: handleUpdateOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_c = Mainbar;\nexport default Mainbar;\nvar _c;\n$RefreshReg$(_c, \"Mainbar\");","map":{"version":3,"names":["React","DropArea","jsxDEV","_jsxDEV","Mainbar","sumText","unitName","setUnitName","unitKuerzel","setUnitKuerzel","droppedBlocks","setDroppedBlocks","instanceCounter","setInstanceCounter","setSavedUnits","handleKuerzelChange","e","target","value","replace","handleSave","trainingUnit","name","kuerzel","blocks","res","fetch","method","headers","body","JSON","stringify","status","data","json","window","confirm","id","ok","alert","updated","error","console","handleDelete","instanceId","prev","deleteBlockFromTree","handleMove","direction","moveBlockInTree","handleUpdateOptions","newOptions","updateBlockOptionsInTree","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","parentId","onDelete","onMove","onUpdateOptions","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Documents/tpgen/trainingsplan-builder2/client/src/components/blocks/Mainbar.jsx"],"sourcesContent":["import React from 'react';\r\nimport DropArea from './DropArea';\r\n\r\nconst Mainbar = ({\r\n  sumText,\r\n  unitName,\r\n  setUnitName,\r\n  unitKuerzel,\r\n  setUnitKuerzel,\r\n  droppedBlocks,\r\n  setDroppedBlocks,\r\n  instanceCounter,\r\n  setInstanceCounter,\r\n  setSavedUnits\r\n}) => {\r\n  const handleKuerzelChange = (e) => {\r\n    setUnitKuerzel(e.target.value.replace(/\\s/g, ''));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const trainingUnit = {\r\n      name: unitName,\r\n      kuerzel: unitKuerzel,\r\n      blocks: droppedBlocks\r\n    };\r\n    try {\r\n      let res = await fetch('http://localhost:3001/trainingUnits', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(trainingUnit)\r\n      });\r\n      if (res.status === 409) {\r\n        const data = await res.json();\r\n        if (window.confirm('Eine Einheit mit diesem Kürzel existiert bereits. Überschreiben?')) {\r\n          res = await fetch(`http://localhost:3001/trainingUnits/${data.id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(trainingUnit)\r\n          });\r\n          if (!res.ok) {\r\n            alert('Fehler beim Überschreiben.');\r\n            return;\r\n          }\r\n          alert('Trainingseinheit überschrieben!');\r\n        } else {\r\n          return;\r\n        }\r\n      } else if (!res.ok) {\r\n        alert('Fehler beim Speichern.');\r\n        return;\r\n      } else {\r\n        alert('Trainingseinheit gespeichert!');\r\n      }\r\n      const updated = await fetch('http://localhost:3001/trainingUnits');\r\n      const data = await updated.json();\r\n      setSavedUnits(data);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (instanceId) => {\r\n    setDroppedBlocks(prev => deleteBlockFromTree(prev, instanceId));\r\n  };\r\n\r\n  const handleMove = (instanceId, direction) => {\r\n    setDroppedBlocks(prev => moveBlockInTree(prev, instanceId, direction));\r\n  };\r\n\r\n  const handleUpdateOptions = (instanceId, newOptions) => {\r\n    setDroppedBlocks(prev => updateBlockOptionsInTree(prev, instanceId, newOptions));\r\n  };\r\n\r\n  return (\r\n    <div className=\"middle-panel\">\r\n      <h3 className=\"main-title\">\r\n        Trainingseinheit {sumText}\r\n      </h3>\r\n      <div className=\"unit-info\">\r\n        <label>\r\n          Name:\r\n          <input\r\n            type=\"text\"\r\n            value={unitName}\r\n            onChange={(e) => setUnitName(e.target.value)}\r\n            className=\"info-input\"\r\n          />\r\n        </label>\r\n        <label>\r\n          Kürzel:\r\n          <input\r\n            type=\"text\"\r\n            value={unitKuerzel}\r\n            onChange={handleKuerzelChange}\r\n            className=\"info-input\"\r\n          />\r\n        </label>\r\n        <button onClick={handleSave} className=\"save-button\">\r\n          Speichern\r\n        </button>\r\n      </div>\r\n      <DropArea \r\n        blocks={droppedBlocks} \r\n        parentId={null}\r\n        onDelete={handleDelete}\r\n        onMove={handleMove}\r\n        onUpdateOptions={handleUpdateOptions}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mainbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}