{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Documents\\\\tpgen\\\\trainingsplan-builder2\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { DndContext } from '@dnd-kit/core';\nimport Sidebar_Blocks from './components/blocks/Sidebar_Blocks';\nimport Sidebar_SavedUnits from './components/units/Sidebar_SavedUnits';\nimport Mainbar from './components/blocks/Mainbar';\nimport { createNewBlock, addBlockToTree, deleteBlockFromTree, moveBlockInTree, updateBlockOptionsInTree, computeSums } from './utils/blockUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst availableBlocks = [\n  // ...existing code...\n];\nfunction App() {\n  _s();\n  const [droppedBlocks, setDroppedBlocks] = useState([]);\n  const [instanceCounter, setInstanceCounter] = useState(0);\n  const [unitName, setUnitName] = useState('');\n  const [unitKuerzel, setUnitKuerzel] = useState('');\n  const [savedUnits, setSavedUnits] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:3001/trainingUnits').then(res => res.json()).then(data => setSavedUnits(data)).catch(err => console.error(err));\n  }, []);\n  const handleDragEnd = event => {\n    const {\n      over,\n      active\n    } = event;\n    if (!over) return;\n    const dropAreaId = over.id;\n    let parentId = null;\n    if (dropAreaId !== 'drop-area') {\n      parentId = dropAreaId.replace('drop-area-', '');\n    }\n    const newInstanceId = `inst-${instanceCounter}`;\n    const newBlock = createNewBlock(active.data.current.block, newInstanceId);\n    setDroppedBlocks(prev => addBlockToTree(prev, parentId, newBlock));\n    setInstanceCounter(prev => prev + 1);\n  };\n  const sums = computeSums(droppedBlocks);\n  const sumText = `(${sums.distance}km + ${sums.time}min)`;\n  const handleLoad = unit => {\n    setDroppedBlocks(unit.blocks);\n    setUnitName(unit.name);\n    setUnitKuerzel(unit.kuerzel);\n  };\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    onDragEnd: handleDragEnd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar_SavedUnits, {\n        savedUnits: savedUnits,\n        onLoad: handleLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Mainbar, {\n        sumText: sumText,\n        unitName: unitName,\n        setUnitName: setUnitName,\n        unitKuerzel: unitKuerzel,\n        setUnitKuerzel: setUnitKuerzel,\n        droppedBlocks: droppedBlocks,\n        setDroppedBlocks: setDroppedBlocks,\n        instanceCounter: instanceCounter,\n        setInstanceCounter: setInstanceCounter,\n        setSavedUnits: setSavedUnits\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar_Blocks, {\n        availableBlocks: availableBlocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"yFFnkv8Doz1m55fHePvF/9eT31Y=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","DndContext","Sidebar_Blocks","Sidebar_SavedUnits","Mainbar","createNewBlock","addBlockToTree","deleteBlockFromTree","moveBlockInTree","updateBlockOptionsInTree","computeSums","jsxDEV","_jsxDEV","availableBlocks","App","_s","droppedBlocks","setDroppedBlocks","instanceCounter","setInstanceCounter","unitName","setUnitName","unitKuerzel","setUnitKuerzel","savedUnits","setSavedUnits","fetch","then","res","json","data","catch","err","console","error","handleDragEnd","event","over","active","dropAreaId","id","parentId","replace","newInstanceId","newBlock","current","block","prev","sums","sumText","distance","time","handleLoad","unit","blocks","name","kuerzel","onDragEnd","children","className","onLoad","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Documents/tpgen/trainingsplan-builder2/client/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { DndContext } from '@dnd-kit/core';\r\nimport Sidebar_Blocks from './components/blocks/Sidebar_Blocks';\r\nimport Sidebar_SavedUnits from './components/units/Sidebar_SavedUnits';\r\nimport Mainbar from './components/blocks/Mainbar';\r\nimport { createNewBlock, addBlockToTree, deleteBlockFromTree, moveBlockInTree, updateBlockOptionsInTree, computeSums } from './utils/blockUtils';\r\n\r\nconst availableBlocks = [\r\n  // ...existing code...\r\n];\r\n\r\nfunction App() {\r\n  const [droppedBlocks, setDroppedBlocks] = useState([]);\r\n  const [instanceCounter, setInstanceCounter] = useState(0);\r\n  const [unitName, setUnitName] = useState('');\r\n  const [unitKuerzel, setUnitKuerzel] = useState('');\r\n  const [savedUnits, setSavedUnits] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3001/trainingUnits')\r\n      .then(res => res.json())\r\n      .then(data => setSavedUnits(data))\r\n      .catch(err => console.error(err));\r\n  }, []);\r\n\r\n  const handleDragEnd = (event) => {\r\n    const { over, active } = event;\r\n    if (!over) return;\r\n    const dropAreaId = over.id;\r\n    let parentId = null;\r\n    if (dropAreaId !== 'drop-area') {\r\n      parentId = dropAreaId.replace('drop-area-', '');\r\n    }\r\n    const newInstanceId = `inst-${instanceCounter}`;\r\n    const newBlock = createNewBlock(active.data.current.block, newInstanceId);\r\n    setDroppedBlocks(prev => addBlockToTree(prev, parentId, newBlock));\r\n    setInstanceCounter(prev => prev + 1);\r\n  };\r\n\r\n  const sums = computeSums(droppedBlocks);\r\n  const sumText = `(${sums.distance}km + ${sums.time}min)`;\r\n\r\n  const handleLoad = (unit) => {\r\n    setDroppedBlocks(unit.blocks);\r\n    setUnitName(unit.name);\r\n    setUnitKuerzel(unit.kuerzel);\r\n  };\r\n\r\n  return (\r\n    <DndContext onDragEnd={handleDragEnd}>\r\n      <div className=\"app-container\">\r\n        <Sidebar_SavedUnits savedUnits={savedUnits} onLoad={handleLoad} />\r\n        \r\n        <Mainbar\r\n          sumText={sumText}\r\n          unitName={unitName}\r\n          setUnitName={setUnitName}\r\n          unitKuerzel={unitKuerzel}\r\n          setUnitKuerzel={setUnitKuerzel}\r\n          droppedBlocks={droppedBlocks}\r\n          setDroppedBlocks={setDroppedBlocks}\r\n          instanceCounter={instanceCounter}\r\n          setInstanceCounter={setInstanceCounter}\r\n          setSavedUnits={setSavedUnits}\r\n        />\r\n        \r\n        <Sidebar_Blocks availableBlocks={availableBlocks} />\r\n      </div>\r\n    </DndContext>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}