{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Documents\\\\tpgen\\\\trainingsplan-builder2\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { DndContext } from '@dnd-kit/core';\nimport Sidebar_Blocks from './components/blocks/Sidebar_Blocks';\nimport Sidebar_SavedUnits from './components/units/Sidebar_SavedUnits';\nimport Mainbar from './components/blocks/Mainbar';\nimport { createNewBlock, addBlockToTree, deleteBlockFromTree, moveBlockInTree, updateBlockOptionsInTree, computeSums } from './utils/blockUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst availableBlocks = [{\n  id: 'aufwaermen',\n  label: 'Aufw채rmen',\n  options: {\n    type: 'switch',\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'tempolauf',\n  label: 'Tempolauf',\n  options: {\n    dropdown: ['1RT', '3RT', '5RT', '10RT', 'HMRT', 'MRT'],\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'dauerlauf',\n  label: 'Dauerlauf',\n  options: {\n    dropdown: ['Zone 1', 'Zone 2', 'Zone 3', 'Zone 4', 'Zone 5'],\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'gehpause',\n  label: 'Gehpause',\n  options: {\n    type: 'switch',\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'trabpause',\n  label: 'Trabpause',\n  options: {\n    type: 'switch',\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'abkuehlung',\n  label: 'Abk체hlung',\n  options: {\n    type: 'switch',\n    unitOptions: [\"Distanz\", \"Zeit\"]\n  }\n}, {\n  id: 'wiederholung',\n  label: 'Wiederholung',\n  options: {\n    repetitions: 1\n  }\n}];\nfunction App() {\n  _s();\n  const [droppedBlocks, setDroppedBlocks] = useState([]);\n  const [instanceCounter, setInstanceCounter] = useState(0);\n  const [unitName, setUnitName] = useState('');\n  const [unitKuerzel, setUnitKuerzel] = useState('');\n  const [savedUnits, setSavedUnits] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:3001/trainingUnits').then(res => res.json()).then(data => setSavedUnits(data)).catch(err => console.error(err));\n  }, []);\n  const handleDragEnd = event => {\n    const {\n      over,\n      active\n    } = event;\n    if (!over) return;\n    const dropAreaId = over.id;\n    let parentId = null;\n    if (dropAreaId !== 'drop-area') {\n      parentId = dropAreaId.replace('drop-area-', '');\n    }\n    const newInstanceId = `inst-${instanceCounter}`;\n    const newBlock = createNewBlock(active.data.current.block, newInstanceId);\n    setDroppedBlocks(prev => addBlockToTree(prev, parentId, newBlock));\n    setInstanceCounter(prev => prev + 1);\n  };\n  const sums = computeSums(droppedBlocks);\n  const sumText = `(${sums.distance}km + ${sums.time}min)`;\n  const handleLoad = unit => {\n    setDroppedBlocks(unit.blocks);\n    setUnitName(unit.name);\n    setUnitKuerzel(unit.kuerzel);\n  };\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    onDragEnd: handleDragEnd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar_SavedUnits, {\n        savedUnits: savedUnits,\n        onLoad: handleLoad\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Mainbar, {\n        sumText: sumText,\n        unitName: unitName,\n        setUnitName: setUnitName,\n        unitKuerzel: unitKuerzel,\n        setUnitKuerzel: setUnitKuerzel,\n        droppedBlocks: droppedBlocks,\n        setDroppedBlocks: setDroppedBlocks,\n        instanceCounter: instanceCounter,\n        setInstanceCounter: setInstanceCounter,\n        setSavedUnits: setSavedUnits\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar_Blocks, {\n        availableBlocks: availableBlocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"yFFnkv8Doz1m55fHePvF/9eT31Y=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","DndContext","Sidebar_Blocks","Sidebar_SavedUnits","Mainbar","createNewBlock","addBlockToTree","deleteBlockFromTree","moveBlockInTree","updateBlockOptionsInTree","computeSums","jsxDEV","_jsxDEV","availableBlocks","id","label","options","type","unitOptions","dropdown","repetitions","App","_s","droppedBlocks","setDroppedBlocks","instanceCounter","setInstanceCounter","unitName","setUnitName","unitKuerzel","setUnitKuerzel","savedUnits","setSavedUnits","fetch","then","res","json","data","catch","err","console","error","handleDragEnd","event","over","active","dropAreaId","parentId","replace","newInstanceId","newBlock","current","block","prev","sums","sumText","distance","time","handleLoad","unit","blocks","name","kuerzel","onDragEnd","children","className","onLoad","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Alex/Documents/tpgen/trainingsplan-builder2/client/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { DndContext } from '@dnd-kit/core';\r\nimport Sidebar_Blocks from './components/blocks/Sidebar_Blocks';\r\nimport Sidebar_SavedUnits from './components/units/Sidebar_SavedUnits';\r\nimport Mainbar from './components/blocks/Mainbar';\r\nimport { createNewBlock, addBlockToTree, deleteBlockFromTree, moveBlockInTree, updateBlockOptionsInTree, computeSums } from './utils/blockUtils';\r\n\r\nconst availableBlocks = [\r\n  { id: 'aufwaermen', label: 'Aufw채rmen', options: { type: 'switch', unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'tempolauf', label: 'Tempolauf', options: { dropdown: ['1RT', '3RT', '5RT', '10RT', 'HMRT', 'MRT'], unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'dauerlauf', label: 'Dauerlauf', options: { dropdown: ['Zone 1', 'Zone 2', 'Zone 3', 'Zone 4', 'Zone 5'], unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'gehpause', label: 'Gehpause', options: { type: 'switch', unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'trabpause', label: 'Trabpause', options: { type: 'switch', unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'abkuehlung', label: 'Abk체hlung', options: { type: 'switch', unitOptions: [\"Distanz\", \"Zeit\"] } },\r\n  { id: 'wiederholung', label: 'Wiederholung', options: { repetitions: 1 } }\r\n];\r\n\r\nfunction App() {\r\n  const [droppedBlocks, setDroppedBlocks] = useState([]);\r\n  const [instanceCounter, setInstanceCounter] = useState(0);\r\n  const [unitName, setUnitName] = useState('');\r\n  const [unitKuerzel, setUnitKuerzel] = useState('');\r\n  const [savedUnits, setSavedUnits] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3001/trainingUnits')\r\n      .then(res => res.json())\r\n      .then(data => setSavedUnits(data))\r\n      .catch(err => console.error(err));\r\n  }, []);\r\n\r\n  const handleDragEnd = (event) => {\r\n    const { over, active } = event;\r\n    if (!over) return;\r\n    const dropAreaId = over.id;\r\n    let parentId = null;\r\n    if (dropAreaId !== 'drop-area') {\r\n      parentId = dropAreaId.replace('drop-area-', '');\r\n    }\r\n    const newInstanceId = `inst-${instanceCounter}`;\r\n    const newBlock = createNewBlock(active.data.current.block, newInstanceId);\r\n    setDroppedBlocks(prev => addBlockToTree(prev, parentId, newBlock));\r\n    setInstanceCounter(prev => prev + 1);\r\n  };\r\n\r\n  const sums = computeSums(droppedBlocks);\r\n  const sumText = `(${sums.distance}km + ${sums.time}min)`;\r\n\r\n  const handleLoad = (unit) => {\r\n    setDroppedBlocks(unit.blocks);\r\n    setUnitName(unit.name);\r\n    setUnitKuerzel(unit.kuerzel);\r\n  };\r\n\r\n  return (\r\n    <DndContext onDragEnd={handleDragEnd}>\r\n      <div className=\"app-container\">\r\n        <Sidebar_SavedUnits savedUnits={savedUnits} onLoad={handleLoad} />\r\n        \r\n        <Mainbar\r\n          sumText={sumText}\r\n          unitName={unitName}\r\n          setUnitName={setUnitName}\r\n          unitKuerzel={unitKuerzel}\r\n          setUnitKuerzel={setUnitKuerzel}\r\n          droppedBlocks={droppedBlocks}\r\n          setDroppedBlocks={setDroppedBlocks}\r\n          instanceCounter={instanceCounter}\r\n          setInstanceCounter={setInstanceCounter}\r\n          setSavedUnits={setSavedUnits}\r\n        />\r\n        \r\n        <Sidebar_Blocks availableBlocks={availableBlocks} />\r\n      </div>\r\n    </DndContext>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}